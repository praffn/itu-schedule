{"version":3,"sources":["actions.js","reducer.js","configureStore.js","serviceWorker.js","util/date.js","schedule.js","components/Schedule/Event.js","components/Schedule/EventGroup.js","components/Schedule/Schedule.js","App.js","index.js"],"names":["SET_SCHEDULE","setSchedule","schedule","type","TOGGLE_SHOW_OLD_EVENTS","toggleShowOldEvents","ADD_HIDDEN_COURSE","addHiddenCourse","courseId","REMOVE_HIDDEN_COURSE","RESET_HIDDEN_COURSES","resetHiddenCourses","initialState","showOldEvents","hiddenCourses","persistConfig","key","storage","blacklist","persistedReducer","persistReducer","state","arguments","length","undefined","action","Object","objectSpread","concat","toConsumableArray","filter","id","Boolean","window","location","hostname","match","dayNames","monthNames","R_AUD1","R_AUD2","R_AUD3","R_AUD4","R_ROOM_LIST","prettyEvent","evt","uid","start","Date","dtstart","end","dtend","loc","test","split","map","l","replace","join","summary","splitted","_mapName","name","course","mapName","lecturers","reduce","prev","curr","startsWith","activity","find","s","trim","mapSummary","scheduleIdIcsMap","SWU3","keys","getSchedule","_x","_getSchedule","apply","this","_callee","scheduleId","response","text","parsed","regenerator_default","a","wrap","_context","next","Error","fetch","sent","ical","parse","abrupt","e","event","i","flattenEvent","sort","b","stop","groupSchedule","events","groups","currentEvent","group","g","d1","date","d2","getFullYear","getMonth","getDate","formatHourMin","hours","getHours","toString","padStart","minutes","getMinutes","Event","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","moreButtonAnchorEl","handleMoreClick","bind","assertThisInitialized","handleMenuClose","handleHideCourseClick","setState","currentTarget","onHideCourse","_this$props","classes","isMenuOpen","react_default","createElement","index_es","title","container","justify","alignItems","item","variant","subheader","Fragment","onClick","MoreVert_default","anchorEl","open","onClose","className","Component","defaultProps","withStyles","fontSize","time","EventGroup","_ref","direction","spacing","style","marginTop","getDay","getDayName","getMonthName","Schedule_Event","assign","Schedule","Schedule_EventGroup","AppContainer","_Component","inherits","createClass","value","_componentDidMount","asyncToGenerator","mark","t0","t1","correctSchedule","all","updatedEvents","includes","updatedSchedule","toDateString","position","color","flexGrow","DeleteSweep_default","checked","onChange","maxWidth","margin","padding","components_Schedule_Schedule","connect","dispatch","bindActionCreators","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","persistor","persistStore","configureStore","console","log","ReactDOM","render","es","integration_react","loading","App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.cb505e00.chunk.js","sourcesContent":["export const SET_SCHEDULE = \"SET_SCHEDULE\";\nexport function setSchedule(schedule) {\n  return {\n    type: SET_SCHEDULE,\n    schedule\n  };\n}\n\nexport const TOGGLE_SHOW_OLD_EVENTS = \"TOGGLE_SHOW_OLD_EVENTS\";\nexport function toggleShowOldEvents() {\n  return {\n    type: TOGGLE_SHOW_OLD_EVENTS\n  };\n}\n\nexport const ADD_HIDDEN_COURSE = \"ADD_HIDDEN_COURSE\";\nexport function addHiddenCourse(courseId) {\n  return {\n    type: ADD_HIDDEN_COURSE,\n    courseId\n  };\n}\n\nexport const REMOVE_HIDDEN_COURSE = \"REMOVE_HIDDEN_COURSE\";\nexport function removeHiddenCourse(courseId) {\n  return {\n    type: REMOVE_HIDDEN_COURSE,\n    courseId\n  };\n}\n\nexport const RESET_HIDDEN_COURSES = \"RESET_HIDDEN_COURSES\";\nexport function resetHiddenCourses() {\n  return {\n    type: RESET_HIDDEN_COURSES\n  };\n}\n","import {\n  SET_SCHEDULE,\n  TOGGLE_SHOW_OLD_EVENTS,\n  ADD_HIDDEN_COURSE,\n  REMOVE_HIDDEN_COURSE,\n  RESET_HIDDEN_COURSES\n} from \"./actions\";\n\nconst initialState = {\n  showOldEvents: false,\n  schedule: [],\n  hiddenCourses: []\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_SCHEDULE:\n      return {\n        ...state,\n        schedule: action.schedule\n      };\n    case TOGGLE_SHOW_OLD_EVENTS:\n      return {\n        ...state,\n        showOldEvents: !state.showOldEvents\n      };\n    case ADD_HIDDEN_COURSE:\n      return {\n        ...state,\n        hiddenCourses: [...state.hiddenCourses, action.courseId]\n      };\n    case REMOVE_HIDDEN_COURSE:\n      return {\n        ...state,\n        hiddenCourses: state.hiddenCourses.filter(id => id !== action.courseId)\n      };\n    case RESET_HIDDEN_COURSES:\n      return {\n        ...state,\n        hiddenCourses: []\n      };\n    default:\n      return state;\n  }\n}\n","import { createStore } from \"redux\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\n\nimport rootReducer from \"./reducer\";\n\nexport const persistConfig = {\n  key: \"root\",\n  storage,\n  blacklist: [\"schedule\"]\n};\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\nexport default () => {\n  const store = createStore(\n    persistedReducer,\n    process.env.NODE_ENV\n      ? window.__REDUX_DEVTOOLS_EXTENSION__ &&\n          window.__REDUX_DEVTOOLS_EXTENSION__()\n      : undefined\n  );\n  const persistor = persistStore(store);\n  return { store, persistor };\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const dayNames = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\n\nconst monthNames = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nexport function getDayName(date) {\n  return dayNames[date.getDay()];\n}\n\nexport function getMonthName(date) {\n  return monthNames[date.getMonth()];\n}\n\nexport function sameDate(d1, d2) {\n  return (\n    d1.getFullYear() === d2.getFullYear() &&\n    d1.getMonth() === d2.getMonth() &&\n    d1.getDate() === d2.getDate()\n  );\n}\n\nexport function isDateBeforeToday(date) {\n  return new Date(date.toDateString()) < new Date(new Date().toDateString());\n}\n","import ical from \"ical.js\";\nimport { sameDate } from \"./util/date\";\n\nfunction flattenEvent(evt) {\n  const event = {};\n  for (let i = 0; i < evt[1].length; i++) {\n    event[evt[1][i][0]] = evt[1][i][3];\n  }\n  return event;\n}\n\nconst R_AUD1 = /Aud 1/;\nconst R_AUD2 = /Aud 2/;\nconst R_AUD3 = /Aud 3/;\nconst R_AUD4 = /Aud 4/;\n\nconst R_ROOM_LIST = /Room: .*/;\n\nfunction mapLocation(loc) {\n  if (R_AUD1.test(loc)) return \"Aud 1\";\n  if (R_AUD2.test(loc)) return \"Aud 2\";\n  if (R_AUD3.test(loc)) return \"Aud 3\";\n  if (R_AUD4.test(loc)) return \"Aud 4 (4A60)\";\n\n  if (R_ROOM_LIST) {\n    return loc\n      .split(\",\")\n      .map(l => l.replace(\"Room: \", \"\"))\n      .join(\", \");\n  }\n  return loc;\n}\n\nfunction mapName(name) {\n  const match = name.match(/\\s+:\\s+([\\w\\s]+).\\s([\\d\\w]+)/);\n  return {\n    course: match[1],\n    courseId: match[2]\n  };\n}\n\nfunction mapSummary(summary) {\n  const splitted = summary.split(\",\");\n  const { course, courseId } = mapName(splitted[1]);\n  const lecturers = splitted.reduce((prev, curr) => {\n    if (curr.startsWith(\" Name: \")) {\n      return [...prev, curr.replace(\" Name: \", \"\")];\n    }\n    return prev;\n  }, []);\n\n  const activity = splitted.find(s => s.trim().startsWith(\"Activity: \"));\n  return {\n    course,\n    courseId,\n    lecturers,\n    activity: activity ? activity.replace(\"Activity: \", \"\").trim() : \"\"\n  };\n}\n\nfunction prettyEvent(evt) {\n  return {\n    id: evt.uid,\n    start: new Date(evt.dtstart),\n    end: new Date(evt.dtend),\n    location: mapLocation(evt.location),\n    ...mapSummary(evt.summary)\n  };\n}\n\nfunction getEventsFromICS(ics) {\n  const events = ics[2].map(e => prettyEvent(flattenEvent(e)));\n  return events.sort((a, b) => new Date(a.start) - new Date(b.start));\n}\n\nconst scheduleIdIcsMap = {\n  SWU3:\n    \"https://cloud.timeedit.net/itu/web/public/ri6159Z5QQZ96YQ50gQ4ZyQ9Zn550x6.ics\"\n};\n\nexport const scheduleIds = Object.keys(scheduleIdIcsMap);\n\nexport async function getSchedule(scheduleId) {\n  if (!scheduleIdIcsMap[scheduleId])\n    throw new Error(`${scheduleId} not a valid schedule id`);\n  const response = await fetch(scheduleIdIcsMap[scheduleId]);\n  const text = await response.text();\n  const parsed = ical.parse(text);\n  return getEventsFromICS(parsed);\n}\n\nexport function groupSchedule(events) {\n  return events.reduce((groups, currentEvent) => {\n    const group = groups.find(g => sameDate(g.date, currentEvent.start));\n    if (!group) {\n      return [\n        ...groups,\n        {\n          date: currentEvent.start,\n          events: [currentEvent]\n        }\n      ];\n    }\n    return groups.map(g => {\n      if (g.date === group.date) {\n        return {\n          ...g,\n          events: [...g.events, currentEvent]\n        };\n      }\n      return g;\n    });\n  }, []);\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Card,\n  CardContent,\n  Grid,\n  Typography,\n  withStyles,\n  CardHeader,\n  IconButton,\n  Menu,\n  MenuItem\n} from \"@material-ui/core\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\n\nfunction formatHourMin(date) {\n  const hours = date\n    .getHours()\n    .toString()\n    .padStart(2, \"0\");\n  const minutes = date\n    .getMinutes()\n    .toString()\n    .padStart(2, \"0\");\n  return `${hours}:${minutes}`;\n}\n\nconst styles = {\n  activity: {\n    fontSize: 14\n  },\n  time: {\n    fontSize: 18\n  }\n};\n\nclass Event extends Component {\n  state = {\n    moreButtonAnchorEl: null\n  };\n\n  constructor(props) {\n    super(props);\n    this.handleMoreClick = this.handleMoreClick.bind(this);\n    this.handleMenuClose = this.handleMenuClose.bind(this);\n    this.handleHideCourseClick = this.handleHideCourseClick.bind(this);\n  }\n\n  handleMoreClick(evt) {\n    this.setState({ moreButtonAnchorEl: evt.currentTarget });\n  }\n\n  handleMenuClose() {\n    this.setState({ moreButtonAnchorEl: null });\n  }\n\n  handleHideCourseClick() {\n    this.props.onHideCourse(this.props.courseId);\n  }\n\n  render() {\n    const {\n      course,\n      start,\n      location,\n      activity,\n      courseId,\n      classes,\n      id,\n      lecturers\n    } = this.props;\n\n    const { moreButtonAnchorEl } = this.state;\n    const isMenuOpen = Boolean(moreButtonAnchorEl);\n\n    return (\n      <Card>\n        <CardHeader\n          title={\n            <Grid container justify=\"space-between\" alignItems=\"center\">\n              <Grid item>\n                <Typography variant=\"h4\">{course}</Typography>\n              </Grid>\n              <Grid item>\n                <Typography variant=\"h5\">{formatHourMin(start)}</Typography>\n              </Grid>\n            </Grid>\n          }\n          subheader={activity}\n          action={\n            <>\n              <IconButton onClick={this.handleMoreClick}>\n                <MoreVertIcon />\n              </IconButton>\n              <Menu\n                id={`menu-${id}`}\n                anchorEl={moreButtonAnchorEl}\n                open={isMenuOpen}\n                onClose={this.handleMenuClose}\n              >\n                <MenuItem onClick={this.handleHideCourseClick}>\n                  Hide this course\n                </MenuItem>\n              </Menu>\n            </>\n          }\n        />\n        <CardContent>\n          <Typography className={classes.location}>\n            {location}\n            <br />\n            {lecturers.length > 0 ? lecturers.join(\", \") : \"\"}\n          </Typography>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nEvent.propTypes = {\n  course: PropTypes.string.isRequired,\n  start: PropTypes.instanceOf(Date).isRequired,\n  location: PropTypes.string,\n  activity: PropTypes.string,\n  classes: PropTypes.object.isRequired,\n  onHideCourse: PropTypes.func.isRequired\n};\n\nEvent.defaultProps = {\n  location: \"No location\",\n  activity: \"Misc.\"\n};\n\nexport default withStyles(styles)(Event);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Grid, Typography, withStyles } from \"@material-ui/core\";\n\nimport { getDayName, getMonthName } from \"../../util/date\";\nimport Event from \"./Event\";\n\nconst EventGroup = ({ date, events, onHideCourse }) => (\n  <Grid container direction=\"column\" spacing={16}>\n    <Grid item style={{ marginTop: \"4rem\" }}>\n      <Typography variant=\"h2\">{getDayName(date)}</Typography>\n      <Typography variant=\"h5\">\n        {getMonthName(date)} {date.getDate()}\n      </Typography>\n    </Grid>\n    <Grid item>\n      <Grid container direction=\"column\" spacing={16}>\n        {events.map(evt => (\n          <Grid item key={evt.id}>\n            <Event {...evt} onHideCourse={onHideCourse} />\n          </Grid>\n        ))}\n      </Grid>\n    </Grid>\n  </Grid>\n);\n\nEventGroup.propTypes = {\n  date: PropTypes.instanceOf(Date).isRequired,\n  events: PropTypes.array.isRequired,\n  onHideCourse: PropTypes.func.isRequired\n};\n\nexport default EventGroup;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport EventGroup from \"./EventGroup\";\n\nconst Schedule = ({ schedule, onHideCourse }) => {\n  return (\n    <div>\n      {schedule.map(group => (\n        <EventGroup\n          key={group.date.toString()}\n          {...group}\n          onHideCourse={onHideCourse}\n        />\n      ))}\n    </div>\n  );\n};\n\nSchedule.propTypes = {\n  schedule: PropTypes.array.isRequired,\n  onHideCourse: PropTypes.func.isRequired\n};\n\nexport default Schedule;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport PropTypes from \"prop-types\";\nimport {\n  CssBaseline,\n  AppBar,\n  Toolbar,\n  Typography,\n  Switch,\n  Tooltip,\n  IconButton\n} from \"@material-ui/core\";\nimport DeleteSweepIcon from \"@material-ui/icons/DeleteSweep\";\n\nimport {\n  toggleShowOldEvents,\n  setSchedule,\n  addHiddenCourse,\n  resetHiddenCourses\n} from \"./actions\";\nimport { getSchedule, groupSchedule } from \"./schedule\";\nimport { isDateBeforeToday } from \"./util/date\";\nimport Schedule from \"./components/Schedule\";\n\nexport class AppContainer extends Component {\n  async componentDidMount() {\n    const schedule = groupSchedule(await getSchedule(\"SWU3\"));\n    this.props.setSchedule(schedule);\n  }\n\n  render() {\n    const {\n      showOldEvents,\n      schedule,\n      hiddenCourses,\n      resetHiddenCourses\n    } = this.props;\n\n    const correctSchedule = schedule.reduce((all, group) => {\n      const updatedEvents = group.events.filter(\n        event => !hiddenCourses.includes(event.courseId)\n      );\n      if (updatedEvents.length === 0) return all;\n      return [...all, { ...group, events: updatedEvents }];\n    }, []);\n\n    const updatedSchedule = showOldEvents\n      ? correctSchedule\n      : correctSchedule.filter(group => !isDateBeforeToday(group.date));\n\n    return (\n      <>\n        <CssBaseline />\n        <AppBar position=\"static\">\n          <Toolbar>\n            <Typography variant=\"h6\" color=\"inherit\" style={{ flexGrow: 1 }}>\n              ITU Schedule\n            </Typography>\n            <Tooltip title=\"Reset hidden courses\">\n              <IconButton color=\"default\" onClick={resetHiddenCourses}>\n                <DeleteSweepIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"Show old events\">\n              <Switch\n                checked={showOldEvents}\n                onChange={this.props.toggleShowOldEvents}\n              />\n            </Tooltip>\n          </Toolbar>\n        </AppBar>\n        <main style={{ maxWidth: \"600px\", margin: \"0 auto\", padding: \"1rem\" }}>\n          <Schedule\n            hiddenCourses={this.props.hiddenCourses}\n            schedule={updatedSchedule}\n            onHideCourse={this.props.addHiddenCourse}\n          />\n        </main>\n      </>\n    );\n  }\n}\n\nAppContainer.propTypes = {\n  showOldEvents: PropTypes.bool.isRequired,\n  toggleShowOldEvents: PropTypes.func.isRequired,\n  schedule: PropTypes.array.isRequired,\n  setSchedule: PropTypes.func.isRequired,\n  resetHiddenCourses: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  showOldEvents: state.showOldEvents,\n  schedule: state.schedule,\n  hiddenCourses: state.hiddenCourses\n});\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      toggleShowOldEvents,\n      setSchedule,\n      addHiddenCourse,\n      resetHiddenCourses\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AppContainer);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\n\nimport configureStore from \"./configureStore\";\n\nimport * as serviceWorker from \"./serviceWorker\";\nimport App from \"./App\";\n\nconst { store, persistor } = configureStore();\n\nconsole.log(store, persistor);\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}